(this.webpackJsonpteamtech2020=this.webpackJsonpteamtech2020||[]).push([[0],{191:function(t,e,n){t.exports=n(329)},258:function(t,e,n){},306:function(t,e,n){},329:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(24),i=n.n(s),o=n(30),u=n(31),c=n(45),l=n(46),p=n(183),h=n(47),d=n(16),m=n.n(d),b=n(32),f=n(167),g=n.n(f),v=n(360),y=n(351),_=n(172),w=n(94),x=n(359),k=n(353),O=n(358),S=n(350),j=n(356),E=(n(328),function(t){Object(l.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t))._last_click=null,a.radius=Math.min(a.props.width,a.props.height)/2,a.y=Object(w.b)().range([0,a.radius]),a.x=Object(w.a)().range([0,2*Math.PI]),a.arc=Object(O.a)().startAngle((function(t){return Math.max(0,Math.min(2*Math.PI,a.x(t.x0)))})).endAngle((function(t){return Math.max(0,Math.min(2*Math.PI,a.x(t.x1)))})).innerRadius((function(t){return Math.max(0,a.y(t.y0))})).outerRadius((function(t){return Math.max(0,a.y(t.y1))})),a.partition=Object(x.a)(),a.hueDXScale=Object(w.a)().domain([0,1]).range([0,360]),a.domId=a.props.domId||"sunburst-wrapper-"+Math.round(1e12*Math.random()).toString(),a.svg=null,a.tooltipDom=null,a.lastSelect=null,a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props._debug&&this.props._log("Sunburst: componentDidMount()",this.props),this._create()}},{key:"shouldComponentUpdate",value:function(t){return this.props._debug&&this.props._log("Sunburst: shouldComponentUpdate()",this.props),!!g()(this.props,t)}},{key:"_destroy_svg",value:function(){this.props._debug&&this.props._log("Sunburst: _destroy_svg()"),this.svg&&this.svg.selectAll("*").remove(),this.svg=null}},{key:"componentDidUpdate",value:function(){this.props._debug&&this.props._log("Sunburst: componentDidUpdate()"),this._destroy_svg(),this._create()}},{key:"componentWillUnmount",value:function(){this.props._debug&&this.props._log("Sunburst: componentWillUnmount()"),this._destroy_svg()}},{key:"select",value:function(t){this.props._debug&&this.props._log("Sunburst: select(id)");var e="#mainArc-"+t,n=Object(y.a)(e).nodes();if(n.length){var a=n[0].__data__;this._update(a)}else this.props._warn("could not find node with id of ".concat(e))}},{key:"_onClick",value:function(t){this.props._debug&&this.props._log("Sunburst: _onClick(node)"),this._last_click=t}},{key:"updateColor",value:function(){var t=this;this.props._debug&&this.props._log("Sunburst: updateColor()"),this.svg.selectAll("path.sunburst-main-arc").style("fill",(function(e){return e.parent?t._colorize(e):"white"}))}},{key:"_create",value:function(){var t=this;if(this.props._debug&&this.props._log("Sunburst: _create()"),this.props.data){var e=Object(k.a)(this.props.data).sum(function(t){return void 0===t[this.props.count_member]&&this.props._warn("props.count_member (".concat(this.props.count_member,") is not defined on data")),t.children&&0!==t.children.length?0:t[this.props.count_member]}.bind(this)),n=this.partition(e).descendants().filter((function(e){return e.x1-e.x0>t.props.radianCutoff}));if(!this.svg){var a=this.props.width,r=this.props.height,s=Object(y.a)("#"+this.domId);this.svg=s.append("svg"),this.svg.style("class","sunburst-svg").style("width",a+"px").style("height",r+"px").attr("viewBox","".concat(-a/2," ").concat(-r/2," ").concat(a," ").concat(r));var i=this.svg.selectAll("g").data(n).enter().append("g");i.exit().remove();var o=this.props.key_member;if(i.append("path").attr("class",(function(t){var e=(t.parent&&t.children," cursor-pointer"),n=t.depth%2?"even-row":"odd-row";return"sunburst-main-arc".concat(e," ").concat(n)})).attr("id",(function(t,e){return"mainArc-".concat(o?t.data[o]:e)})).style("fill",(function(e){return e.parent?t._colorize(e):"#282c34"})).on("click",function(t){this._onClick(t),this.props.onClick&&this.props.onClick(t),this._update(t)}.bind(this)),this.props.labelFunc)i.append("path").attr("class","sunburst-hidden-arc").attr("id",(function(t,e){return"hiddenArc".concat(e)})).attr("d",this._middleArcLine.bind(this)).style("fill","none"),i.append("text").style("pointer-events","none").style("dominant-baseline","middle").style("text-anchor","middle").append("textPath").attr("startOffset","50%").attr("xlink:href",(function(t,e){return"#hiddenArc".concat(e)})).text((function(e){return t._getLabelText(e)||""}))}this.props.tooltip&&this._setTooltips(),this._update(e)}}},{key:"_update",value:function(t,e,n){var a=this;if(this.props._debug&&this.props._log("Sunburst: _update(d, i, a)"),!this.lastSelect||!n||this.lastSelect!==n[e].id){this.lastSelect=n&&n[e].id,this.svg.transition().selectAll("textPath").attr("opacity",0);var r=this.svg.transition().duration(this.props.transitionDuration).tween("scale",function(){var e=Object(j.a)(this.x.domain(),[t.x0,t.x1]),n=Object(j.a)(this.y.domain(),[t.y0,1]),a=Object(j.a)(this.y.range(),[t.y0?20:0,this.radius]);return function(t){this.x.domain(e(t)),this.y.domain(n(t)).range(a(t))}.bind(this)}.bind(this));r.selectAll("path.sunburst-hidden-arc").attrTween("d",(function(t){return function(){return a._middleArcLine(t)}})),r.selectAll("path.sunburst-main-arc").attrTween("d",(function(t){return function(){return a.arc(t)}})).on("end",(function(t,e,n){a.arc.innerRadius()(t)&&Object(y.a)(n[e].parentNode).select("text textPath").transition(a.props.transitionDuration/2).attr("opacity",1).text((function(t){return a._getLabelText(t)}))}))}}},{key:"_textFits",value:function(t,e){if(this.props._debug&&this.props._log("Sunburst: _textFits(d, label)"),!e)return!1;var n=57.296*(this.arc.endAngle()(t)-this.arc.startAngle()(t)),a=this.arc.outerRadius()(t),r=2*Math.PI*a*(n/360);return e.length*this.props.font_size<r}},{key:"_getLabelText",value:function(t){var e;return this.props._debug&&this.props._log("Sunburst: _getLabelText(d)"),e=this.props.labelFunc&&this.props.labelFunc(t),this._textFits(t,e)?e:(e=this.props.condensedLabelFunc&&this.props.condensedLabelFunc(t),this._textFits(t,e)?e:null)}},{key:"_middleArcLine",value:function(t){this.props._debug&&this.props._log("Sunburst: _middleArcLine(d)");var e=Math.PI/2,n=[this.x(t.x0)-e,this.x(t.x1)-e],a=Math.max(0,(this.y(t.y0)+this.y(t.y1))/2),r=(n[1]+n[0])/2,s=r>0&&r<Math.PI;s&&n.reverse();var i=Object(S.a)();return i.arc(0,0,a,n[0],n[1],s),i.toString()}},{key:"_inDomain",value:function(t){this.props._debug&&this.props._log("Sunburst: _inDomain(d)");var e=this.x.domain()[0],n=this.x.domain()[1];return!(t.x0<e)&&!(t.x1>n)}},{key:"_setTooltips",value:function(){this.props._debug&&this.props._log("Sunburst: _setTooltips(d)"),this.tooltipDom=Object(y.a)("#".concat(this.domId)).append("div").attr("class","sunburst-tooltip").style("position","absolute").style("z-index","10").style("opacity","0").style("text-align","center").style("border-radius","8px").style("pointer-events","none").style("background","lightsteelblue").style("padding","3px");var t=this.props.tooltipX,e=this.props.tooltipY;this.svg.selectAll("path.sunburst-main-arc").on("mouseover",function(n){this.props.tooltip&&(this.tooltipDom.html(this.props.tooltipFunc(n.data)).style("left",_.b.pageX+t+"px").style("top",_.b.pageY+e+"px"),this.tooltipDom.transition().style("opacity",.9).duration(200),this.props.onMouseover&&this.props.onMouseover(n.data))}.bind(this)).on("mouseout",function(t){this.props.tooltip&&this.tooltipDom.transition().style("opacity",0).duration(500),this.props.onMouseout&&this.props.onMouseout(t.data)}.bind(this))}},{key:"_colorize",value:function(t){var e;this.props._debug&&this.props._log("Sunburst: _colorize(d)");var n=t;if(0===n.depth)return"#33cccc";var a=this.props,r=a.lightness,s=a.saturation,i=a.child_brightness;if(n.depth<=1)return e=this.hueDXScale(t.x0),n.fill=Object(v.b)(e,s,r),n.fill;n.fill=n.parent.fill.brighter(i);var o=Object(v.b)(n.fill);e=this.hueDXScale(n.x0);var u=o.h+e/5,c=Object(v.b)(u,o.s,o.l);return!!this.props.colorFunc?this.props.colorFunc(t,c):c}},{key:"render",value:function(){return this.props._debug&&this.props._log("Sunburst: render()"),r.a.createElement("div",{className:"sunburst-wrapper",id:this.domId})}}]),n}(r.a.Component));E.defaultProps={tooltip:!0,tooltipFunc:function(t){return t.name},radianCutoff:1e-4,transitionDuration:300,colorFunc:function(t,e){return e},key_member:"key",font_size:11,tooltipX:20,tooltipY:20,saturation:.5,lightness:.5,child_brightness:.9,_debug:!1,_log:console.log,_warn:console.warn};var C=E,D=n(120),T=n(128),N=n(68),A=n(10),M=n(91),R=n(357),I=n(352),F=n(95),P=function(t){Object(l.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).getRowClassName=function(t){var e=t.index,n=a.props,r=n.classes,s=n.onRowClick;return Object(A.a)(r.tableRow,r.flexContainer,Object(N.a)({},r.tableRowHover,-1!==e&&null!=s))},a.cellRenderer=function(t){var e=t.cellData,n=t.columnIndex,s=a.props,i=s.columns,o=s.classes,u=s.rowHeight,c=s.onRowClick;return r.a.createElement(R.a,{component:"div",className:Object(A.a)(o.tableCell,o.flexContainer,Object(N.a)({},o.noClick,null==c)),variant:"body",style:{height:u},align:null!=n&&i[n].numeric?"right":"left"},e)},a.headerRenderer=function(t){var e=t.label,n=t.columnIndex,s=a.props,i=s.headerHeight,o=s.columns,u=s.classes;return r.a.createElement(R.a,{component:"div",className:Object(A.a)(u.tableCell,u.flexContainer,u.noClick),variant:"head",style:{height:i},align:o[n].numeric?"right":"left"},r.a.createElement("span",null,e))},console.log("some props"),console.log(a.props.anomalies),a}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.classes,a=e.columns,s=e.rowHeight,i=e.headerHeight,o=Object(T.a)(e,["classes","columns","rowHeight","headerHeight"]);return r.a.createElement("div",{className:n.chartContainer},r.a.createElement(F.a,null,(function(e){var u=e.height,c=e.width;return r.a.createElement(F.c,Object.assign({height:u,width:c,rowHeight:s,gridStyle:{direction:"inherit"},headerHeight:i,className:n.table},o,{rowClassName:t.getRowClassName}),a.map((function(e,a){var s=e.dataKey,i=Object(T.a)(e,["dataKey"]);return r.a.createElement(F.b,Object.assign({key:s,headerRenderer:function(e){return t.headerRenderer(Object(D.a)({},e,{columnIndex:a}))},className:n.flexContainer,cellRenderer:t.cellRenderer,dataKey:s},i))})))})))}}]),n}(r.a.PureComponent);P.defaultProps={headerHeight:48,rowHeight:48};var H=Object(M.a)((function(t){return{flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},table:{"& .ReactVirtualized__Table__headerRow":{flip:!1,paddingRight:"rtl"===t.direction?"0 !important":void 0}},tableRow:{cursor:"pointer"},tableRowHover:{"&:hover":{backgroundColor:t.palette.grey[200]}},tableCell:{flex:1},noClick:{cursor:"initial"},chartContainer:{width:800,height:400,margin:"auto"}}}))(P);function U(t){var e=[];return t.data&&(e=t.data.anomalies.map((function(t){var e="\u25b2";return-1==t.Type&&(e="\u25bc"),Object(D.a)({},t,{Type:e})}))),r.a.createElement(I.a,{style:{height:400,width:"60%",margin:"auto",marginTop:30,fontFamily:"Roboto",backgroundColor:"#b19cd9"}},r.a.createElement(H,{rowCount:e.length,rowGetter:function(t){var n=t.index;return e[n]},columns:[{width:269,label:"Timestamp",dataKey:"Timestamp"},{width:269,label:"Category",dataKey:"Category"},{width:269,label:"Type",dataKey:"Type"}]}))}n(258);var z=n(177),L=n.n(z),B=n(123),J=n(185),K=Object(a.createContext)(),X=function(t){var e=t.children,n=Object(a.useState)("5ebd070c717f9c1ca90906f41543437a30514f86546931a8acf85f38bf78edbe"),s=Object(J.a)(n,2),i=s[0],o=s[1];return r.a.createElement(K.Provider,{value:{uuid:i,setUuid:o}},e)},V=(n(306),n(52)),W=n.n(V);var Y=function(){function t(e){var n=e.url;Object(o.a)(this,t),this.url=n,this.endpoints={}}return Object(u.a)(t,[{key:"createEntity",value:function(t){var e=t.name.replace(/(\-\w)/g,(function(t){return t[1].toUpperCase()}));this.endpoints[e]=this.createBasicCRUDEndpoints(t)}},{key:"createEntities",value:function(t){t.forEach(this.createEntity.bind(this))}},{key:"createBasicCRUDEndpoints",value:function(t){t.name;var e={},n="".concat(this.url);return e.getAllSamples=function(){return W.a.get("".concat(n,"/samples"))},e.getOneUser=function(t){var e=t.uuid;return W.a.get("".concat(n,"/samples/").concat(e))},e.getOneProcess=function(t){var e=t.processName;return W.a.get("".concat(n,"/categories/").concat(e))},e.sunburstData=function(t,e,a){var r=t.uuid,s=e.start_timestamp,i=a.end_timestamp,o="".concat(n,"/sunburst-data/").concat(r,"?");return void 0!==s&&(o+="&start=".concat(s)),void 0!==i&&(o+="&end=".concat(i)),W.a.get(o)},e.anomalyData=function(t,e,a){var r=t.uuid,s=e.start_timestamp,i=a.end_timestamp,o="".concat(n,"/anomalies/").concat(r,"?");return void 0!==s&&(o+="&start=".concat(s)),void 0!==i&&(o+="&end=".concat(i)),W.a.get(o)},e.username=function(t){var e=t.username,a="".concat(n,"/users/").concat(e,"?");return W.a.get(a)},e}}]),t}(),G={container:{textAlign:"center"},noTable:{display:"none"}},$=function(t){Object(l.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).getSunburstData=function(){var t=Object(b.a)(m.a.mark((function t(e,n){var r,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null,(s=new Y({url:"https://teamtech2020.herokuapp.com"})).createEntity({name:"get"}),console.log(a.state.uuid),t.next=6,s.endpoints.get.sunburstData({uuid:a.state.uuid},{start_timestamp:e},{end_timestamp:n}).then((function(t){return r=t.data}));case 6:return t.abrupt("return",JSON.parse(JSON.stringify(r)));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),a.getAnomalyData=function(){var t=Object(b.a)(m.a.mark((function t(e,n){var r,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null,(s=new Y({url:"https://teamtech2020.herokuapp.com"})).createEntity({name:"get"}),t.next=5,s.endpoints.get.anomalyData({uuid:a.state.uuid},{start_timestamp:e},{end_timestamp:n}).then((function(t){return r=t.data}));case 5:return t.abrupt("return",JSON.parse(JSON.stringify(r)));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),a.onChangeDateTime=function(){var t=Object(b.a)(m.a.mark((function t(e){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Math.floor(e[0].getTime()/1e3),r=Math.floor(e[1].getTime()/1e3),a.setState({date:e,showSunburst:!1,startTimestamp:n,endTimestamp:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.displaySunburst=function(){return r.a.createElement(C,{data:a.state.sunburstData,width:"800",height:"900",count_member:"size",labelFunc:function(t){return t.data.name},_debug:!1})},a.handleInputChange=function(){var t=Object(b.a)(m.a.mark((function t(e){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,(r=new Y({url:"https://teamtech2020.herokuapp.com"})).createEntity({name:"get"}),t.next=5,r.endpoints.get.username({username:e}).then((function(t){return n=t.data}));case 5:"No matches"!==n?a.setState({uuid:n.uuid,showSunburst:!1}):a.setState({uuid:null,showSunburst:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.state={date:[null,null],defaultDate:[new Date("December 1, 2017 00:00:00"),new Date("December 31, 2017 00:00:00")],startTimestamp:void 0,endTimestamp:void 0,sunburstData:null,defaultSunburstData:null,showSunburst:!1,showAnomalies:!1,anomalyData:null,showErrorMessage:!1,uuid:null},a.tableRef=r.a.createRef(),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=Object(b.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSunburstData(void 0,void 0);case 2:e=t.sent,this.setState({defaultSunburstData:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"toggleSunburst",value:function(){var t=Object(b.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSunburstData(this.state.startTimestamp,this.state.endTimestamp);case 2:e=t.sent,this.setState((function(t){return{showSunburst:!0,sunburstData:"No matches"!==e?e:t.defaultSunburstData,showErrorMessage:"No matches"==e}}));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"toggleAnomalies",value:function(){var t=Object(b.a)(m.a.mark((function t(){var e,n=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAnomalyData(this.state.startTimestamp,this.state.endTimestamp);case 2:e=t.sent,this.setState({showAnomalies:!0,anomalyData:e},(function(){setTimeout((function(){n.tableRef.current.scrollIntoView({behavior:"smooth"})}),100)}));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"displayAnomalies",value:function(){return r.a.createElement("div",{ref:this.tableRef,style:this.state.showAnomalies?{}:G.noTable},r.a.createElement(U,{data:this.state.anomalyData}),";")}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"data-vis-page"},r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{className:"uuid-prompt"},"Username:"),r.a.createElement("input",{class:"form-field",type:"text",placeholder:"Please input your username",onChange:function(e){return t.handleInputChange(e.target.value)}}),null===this.state.uuid?r.a.createElement("p",{className:"error-message"},"No user found."):null),r.a.createElement("div",{className:"dateContainer",style:G.container},r.a.createElement(L.a,{value:null===this.state.date[0]?this.state.defaultDate:this.state.date,onChange:this.onChangeDateTime,maxDetail:"second",clearIcon:null})),r.a.createElement("div",{className:"viewContainer",style:G.container},r.a.createElement(B.a,{className:"view_button",justify:"center",onClick:this.toggleSunburst.bind(this)},"View Sunburst")),r.a.createElement("div",{className:"errorContainer",style:G.container},this.state.showErrorMessage&&this.state.showSunburst&&r.a.createElement("p",{className:"error-message"},"No matches found for this range. Showing all entries.")),this.state.showSunburst&&this.displaySunburst(),r.a.createElement("div",{className:"container",style:G.container},r.a.createElement(B.a,{className:"anomaly_button",justify:"center",onClick:this.toggleAnomalies.bind(this)},"View Anomalies")),this.displayAnomalies())}}]),n}(a.Component);$.contextType=K;var q=n(354),Q=n(355),Z=function(){return r.a.createElement(q.a,{bg:"dark",variant:"dark"},r.a.createElement(q.a.Brand,{href:"/"},"SWE Illinois Team Tech x Cisco"),r.a.createElement(q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(q.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Q.a,{className:"mr-auto"},r.a.createElement(Q.a.Item,null,r.a.createElement(Q.a.Link,{href:"/"},"Data Visualization")))))},tt=function(t){Object(l.a)(n,t);var e=Object(c.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(Z,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:$}))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(327);var et=document.getElementById("root");i.a.render(r.a.createElement(X,null,r.a.createElement(tt,null)),et),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[191,1,2]]]);
//# sourceMappingURL=main.3ec4b440.chunk.js.map